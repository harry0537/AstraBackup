<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="960" height="640" viewBox="0 0 960 640">
  <defs>
    <style>
      text { font-family: "Segoe UI", Arial, sans-serif; fill: #202020; font-size: 18px; }
      .title { font-size: 26px; font-weight: 600; }
      .actor { fill: #ffffff; stroke: #2f5597; stroke-width: 2.2; rx: 14; ry: 14; }
      .usecase { fill: #eef3ff; stroke: #637cc1; stroke-width: 2.2; }
      .system-boundary { fill: none; stroke: #9eb4e5; stroke-width: 2.5; stroke-dasharray: 12 10; rx: 24; ry: 24; }
      .line { stroke: #30518f; stroke-width: 2.3; fill: none; }
      .note { font-size: 16px; fill: #425b9b; }
    </style>
  </defs>

  <rect x="20" y="20" width="920" height="600" fill="#fafbff" stroke="#b8c8ea" stroke-width="2"/>
  <text x="60" y="90" class="title">Astra NZ V9 – UGV Mission Use Case Diagram</text>

  <!-- Actors -->
  <rect x="90" y="170" width="160" height="80" class="actor"/>
  <text x="120" y="215">Operator</text>

  <rect x="90" y="380" width="160" height="80" class="actor"/>
  <text x="105" y="425">Cloud Dashboard</text>

  <rect x="710" y="275" width="160" height="80" class="actor"/>
  <text x="755" y="320">UGV</text>

  <!-- System boundary for mission workflow -->
  <rect x="310" y="150" width="360" height="360" class="system-boundary"/>
  <text x="330" y="182" class="note">Mission Workflow</text>

  <!-- Use cases -->
  <ellipse cx="490" cy="220" rx="150" ry="55" class="usecase"/>
  <text x="420" y="215">Upload Mission Plan</text>
  <text x="430" y="238" class="note">Route, tasks, constraints</text>

  <ellipse cx="490" cy="300" rx="150" ry="55" class="usecase"/>
  <text x="420" y="295">Monitor Telemetry</text>
  <text x="425" y="318" class="note">Health, video, sensors</text>

  <ellipse cx="490" cy="380" rx="150" ry="55" class="usecase"/>
  <text x="405" y="375">Manual Override Intervention</text>
  <text x="410" y="398" class="note">Pause, redirect, teleop</text>

  <ellipse cx="490" cy="460" rx="150" ry="55" class="usecase"/>
  <text x="405" y="455">Distribute Mission Package</text>
  <text x="420" y="478" class="note">Validate &amp; sync to UGV</text>

  <ellipse cx="670" cy="340" rx="120" ry="45" class="usecase"/>
  <text x="615" y="335">Stream Telemetry Feed</text>
  <text x="630" y="358" class="note">MAVLink → Dashboard</text>

  <!-- Include / extend relationships -->
  <path class="line" d="M490 275 V245"/>
  <text x="500" y="270" class="note">«include»</text>

  <path class="line" d="M640 300 H610 V345 H550"/>
  <text x="570" y="318" class="note">«include»</text>

  <path class="line" d="M640 380 H605 V355 H550"/>
  <text x="555" y="388" class="note">«extend»</text>

  <path class="line" d="M490 435 V405"/>
  <text x="500" y="430" class="note">«include»</text>

  <!-- Associations -->
  <path class="line" d="M250 210 H340"/>
  <path class="line" d="M250 235 H300 V300 H340"/>
  <path class="line" d="M250 260 H310 V380 H340"/>
  <path class="line" d="M250 285 H320 V460 H340"/>

  <path class="line" d="M250 420 H360 V300 H340"/>
  <path class="line" d="M250 445 H370 V380 H340"/>
  <path class="line" d="M250 470 H380 V460 H340"/>

  <path class="line" d="M640 220 H760 V280 H710"/>
  <path class="line" d="M640 300 H760 V310 H710"/>
  <path class="line" d="M640 380 H760 V340 H710"/>
  <path class="line" d="M640 460 H760 V370 H710"/>
  <path class="line" d="M790 340 H820 V320 H710"/>

  <!-- Connector labels -->
  <text x="260" y="200" class="note">Mission upload</text>
  <text x="260" y="295" class="note">Dashboard views</text>
  <text x="260" y="380" class="note">Manual override tools</text>
  <text x="260" y="455" class="note">Plan sync status</text>
  <text x="630" y="215" class="note">Mission payload</text>
  <text x="640" y="290" class="note">Telemetry flow</text>
  <text x="640" y="370" class="note">Operator actions</text>
  <text x="640" y="450" class="note">Execution updates</text>

  <!-- Legend -->
  <rect x="60" y="520" width="420" height="100" class="system-boundary"/>
  <text x="80" y="555" class="note">Legend</text>
  <rect x="80" y="570" width="60" height="30" class="actor"/>
  <text x="150" y="592">Primary Actor</text>
  <ellipse cx="300" cy="585" rx="60" ry="25" class="usecase"/>
  <text x="360" y="592">Use Case</text>
  <text x="80" y="610" class="note">«include» mandatory behavior   «extend» conditional behavior</text>
</svg>

